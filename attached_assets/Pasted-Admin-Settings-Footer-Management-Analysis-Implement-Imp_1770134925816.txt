Admin Settings: Footer Management (Analysis + Implement)

Implement a complete, clean, and scalable Admin → Settings section to edit all footer content shown on the public site (the bottom bar/footer), including:

Venue description text (IT/EN)

Contacts: address, phone, email (IT/EN where applicable)

Opening hours / days (structured, editable; IT/EN labels)

Social links (Instagram, Facebook, etc.)

Quick links (e.g., “Prenota un evento”, “Lavora con noi”) with URL targets

Legal links (Privacy Policy, Cookie Policy) + URLs

Must be fully manageable in Admin, saved to database, and reflected on the public footer.

Constraints / Governance

Keep code modular and scalable; avoid files growing too large (split into modules if needed).

No dead code, no duplicated logic, no leftover debug logs.

One canonical implementation only (no parallel systems).

UI should match existing CCV admin styling (elegant, minimal).

Bilingual everywhere: every textual field must support IT and EN.

Admin access remains /admina with password 1909 (do not break existing auth gate).

Step 1 — Forensic Analysis (before coding)

Locate where the footer UI is currently rendered (components, layout).

Identify whether footer content is:

hardcoded constants

config file

database-driven already

Identify existing DB tables/entities used for “site settings” or similar (e.g., site_settings, pages, page_blocks).

Confirm how language toggle (IT/EN) currently works and how footer should follow it.

Step 2 — Data Model (DB-ready)

Create/extend a single source of truth for footer settings in the database:

Prefer a site_settings (or footer_settings) record with a stable key (e.g., key='footer').

Store structured JSON for:

about.it, about.en

contacts (address/phone/email)

hours: array of entries (dayKey + open/close or closed flag) + per-language day labels if needed

social: array of { type, url }

quickLinks: array of { labelIt, labelEn, url }

legalLinks: { privacyUrl, cookieUrl, (optional labels IT/EN) }
Add validation defaults so footer never breaks if fields are empty.

Step 3 — Admin UI Implementation (Settings page)

In Admin → Impostazioni, add a clear section (or dedicated page) “Footer”.
Requirements:

Form-based editing (no modals required unless already standard)

IT/EN inputs side-by-side where relevant

Structured editor for opening hours (repeatable rows or a week grid)

Social links editor (repeatable rows)

Quick links editor (repeatable rows)

Save button with loading + success/error states

On save: persist to DB through an API route with validation

Step 4 — Public Site Wiring

Replace any hardcoded footer content so it reads from DB settings.

Footer must render instantly with safe defaults, and update after save.

Ensure language toggle switches footer content consistently.

Deliverables (must produce)

A short implementation report in a markdown file (e.g., report/REPORT_FOOTER_SETTINGS.md) containing:

files changed

DB changes (schema/migrations notes)

API endpoints added/updated